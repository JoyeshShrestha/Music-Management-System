{% extends "base.html" %} {% block content %} 
<div style="display: flex; justify-content: space-between; justify-items: center; padding: 20px;">
  
<h1 class="page-title">USERS</h1>
<div><a class="btn btn-success" href="{{ url_for('add_user') }}">Add Users</a>
</div>
</div>

{% with messages= get_flashed_messages()%} {%if messages%}
<p>{{messages[-1]}}</p>
{%endif%} {%endwith%}
  <div class="mb-4">
    {% if current_page > 1 %}
      <a class="btn btn-small btn-outline-dark" href="{{ url_for('get_all_users', page=current_page - 1) }}">Previous</a>
    {% endif %}
  
    {% if current_page < total_pages %}
    <a class="btn btn-small btn-outline-dark" href="{{ url_for('get_all_users', page=current_page + 1) }}">Next</a>
  {% endif %}
     </div>
<div class="display_user">
        
         {% for user in all_users %}
         <div class="user-preview">
           <p class="user-title">{{ user.first_name }} {{ user.last_name }}</p>
           <p class="user-subtitle">{{ user.email }}</p>
           <p class="user-details"><strong>Phone:</strong> {{ user.phone }}</p>
           <p class="user-details"><strong>Address:</strong> {{ user.address }}</p>
           <p class="user-details"><strong>Gender:</strong> {{ user.gender }}</p>
           <p class="user-details"><strong>Date of Birth:</strong> {{ user.dob }}</p>
           {%if login_id != user.id%}
         <p>
           <a class="btn btn-outline-primary" href="{{ url_for('edit_user', user_id=user.id)}}">Edit</a>
         <a class="btn btn-outline-danger"  href="{{url_for('delete_user', user_id=user.id)}}">Delete</a>
       </p>
       {%endif%}
         </div>
        
         
      </a>
    {% endfor %}
  
    
  </div>
  <div class="mt-4">
    {% if current_page > 1 %}
      <a class="btn btn-small btn-outline-dark" href="{{ url_for('get_all_users', page=current_page - 1) }}">Previous</a>
    {% endif %}
  
    {% if current_page < total_pages %}
    <a class="btn btn-small btn-outline-dark" href="{{ url_for('get_all_users', page=current_page + 1) }}">Next</a>
  {% endif %}
     </div>
</div>
{% endblock %}